# Direct Implementation Workflow
# Simple plan-implement-verify workflow when research is not needed

[workflow]
name = "direct-implementation"
description = "Simple plan-implement-verify workflow for familiar code changes"

[[phases]]
id = "plan"
requires_user_input = true
required_artifacts = ["implementation-plan", "verification-plan"]
prompt = """
# Plan Phase

Create an implementation plan directly. This workflow assumes you already understand the codebase and requirements.

## Tasks

1. Break down the work into atomic, testable tasks
2. Identify file dependencies and task ordering
3. Consider which tasks can run in parallel

## Outputs

### implementation-plan.md
- Task breakdown (descriptions, dependencies, steps)
- Parallelization strategy
- Any assumptions being made

### verification-plan.md
Create a verification plan based on what's available in the project:

```markdown
# Verification Plan

## Automated Checks
List specific commands to run:
- [ ] `<command>` - <what it verifies>

## Acceptance Criteria
What must be true for implementation to be complete?
```
"""
suggested_next = [
    { phase = "implement", instruction = "Plan approved — begin implementation" },
    { phase = "plan", instruction = "Revise the plan" }
]

[[phases]]
id = "implement"
use_tasks = true
on_blocked = "self"
max_retries = 3
context_artifacts = ["implementation-plan"]
required_json_artifacts = ["proposals", "challenges"]
prompt_files = ["implement"]
suggested_next = [
    { phase = "verify", instruction = "All tasks complete — run verification" }
]

[[phases]]
id = "verify"
prompt_files = ["validate"]
context_artifacts = ["verification-plan"]
suggested_next = [
    { phase = "complete", instruction = "All checks pass" },
    { phase = "implement", instruction = "Checks failed — fix and retry" }
]
on_blocked = "implement"

[[phases]]
id = "complete"
prompt_files = ["proposals-and-challenges", "complete-implementation"]
terminal = true
